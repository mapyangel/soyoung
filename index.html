<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ì¼ˆí‹± í¬ë¡œìŠ¤ íƒ€ë¡œ (ë°°ì—´ ì „ìš©)</title>
  <style>
    :root{
      --bg:#0b0f14;
      --card:#121826;
      --muted:#9aa4b2;
      --text:#e6edf3;
      --accent:#7aa2ff;
      --line:rgba(255,255,255,.08);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Apple SD Gothic Neo, "Noto Sans KR", sans-serif;
      background: radial-gradient(1200px 600px at 20% 0%, rgba(122,162,255,.12), transparent 60%),
                  radial-gradient(900px 500px at 80% 20%, rgba(140,255,196,.08), transparent 60%),
                  var(--bg);
      color:var(--text);
    }
    .wrap{
      max-width: 980px;
      margin: 0 auto;
      padding: 24px 16px 56px;
    }
    header{
      display:flex;
      gap:12px;
      align-items:flex-start;
      justify-content:space-between;
      margin-bottom:16px;
    }
    h1{
      font-size: 20px;
      margin:0;
      letter-spacing:.2px;
    }
    .sub{
      margin-top:6px;
      color: var(--muted);
      font-size: 13px;
      line-height:1.45;
    }
    .panel{
      background: rgba(18,24,38,.72);
      border:1px solid var(--line);
      border-radius: 16px;
      padding: 14px;
      backdrop-filter: blur(6px);
    }
    .controls{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      justify-content:space-between;
      margin: 14px 0 18px;
    }
    .left{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
    }
    input[type="text"]{
      width: min(520px, 100%);
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid var(--line);
      background: rgba(0,0,0,.25);
      color: var(--text);
      outline:none;
    }
    input[type="text"]::placeholder{color:rgba(154,164,178,.7)}
    .btn{
      padding: 10px 14px;
      border-radius: 12px;
      border: 1px solid var(--line);
      background: rgba(122,162,255,.16);
      color: var(--text);
      cursor:pointer;
      font-weight:600;
    }
    .btn:active{transform: translateY(1px)}
    .toggle{
      display:flex;
      align-items:center;
      gap:8px;
      color: var(--muted);
      font-size: 13px;
      user-select:none;
    }
    .grid{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap:12px;
      margin-top: 12px;
    }
    .card{
      grid-column: span 6;
      background: rgba(18,24,38,.55);
      border:1px solid var(--line);
      border-radius: 16px;
      padding: 14px;
      min-height: 88px;
      display:flex;
      flex-direction:column;
      gap:8px;
    }
    .pos{
      color: var(--muted);
      font-size: 12px;
      line-height:1.35;
    }
    .name{
      font-size: 15px;
      font-weight:700;
      letter-spacing:.2px;
    }
    .ori{
      font-size: 12px;
      color: rgba(230,237,243,.85);
      display:inline-flex;
      align-items:center;
      gap:6px;
      width:max-content;
      padding: 6px 10px;
      border:1px solid var(--line);
      border-radius: 999px;
      background: rgba(0,0,0,.18);
    }
    .dot{
      width:8px;height:8px;border-radius:50%;
      background: var(--accent);
      display:inline-block;
    }
    .meta{
      margin-top: 14px;
      color: var(--muted);
      font-size: 12px;
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      justify-content:space-between;
    }
    .small{
      opacity:.9;
    }
    @media (max-width: 720px){
      .card{grid-column: span 12;}
      header{flex-direction:column; gap:10px;}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <h1>ì¼ˆí‹± í¬ë¡œìŠ¤ íƒ€ë¡œ (ë°°ì—´ ì „ìš©)</h1>
        <div class="sub">
          í•´ì„ ì—†ì´ <b>10ì¥ ë°°ì—´ + ì •/ì—­</b>ë§Œ ë½‘ì•„ì£¼ëŠ” ê°„ë‹¨ ë²„ì „ì´ì•¼. ğŸ˜Š<br>
          ì§ˆë¬¸ì„ ì ê³  <b>ì¹´ë“œ ë½‘ê¸°</b>ë¥¼ ëˆ„ë¥´ë©´ ë¼.
        </div>
      </div>
      <div class="panel" style="min-width:min(380px,100%);">
        <div class="controls" style="margin:0;">
          <div class="left" style="width:100%;">
            <input id="q" type="text" placeholder="ì§ˆë¬¸(ì„ íƒ) â€” ì˜ˆ: ì˜¤ëŠ˜ ë‚´ê°€ ì§‘ì¤‘í•  í¬ì¸íŠ¸ëŠ”?" />
          </div>
          <div class="left" style="width:100%; justify-content:space-between;">
            <button class="btn" id="drawBtn">ì¹´ë“œ ë½‘ê¸°</button>
            <label class="toggle">
              <input id="rev" type="checkbox" checked />
              ì—­ë°©í–¥ í¬í•¨
            </label>
          </div>
        </div>
        <div class="meta">
          <div class="small" id="stamp">ì•„ì§ ë½‘ì§€ ì•Šì•˜ì–´.</div>
          <div class="small" id="seedInfo"></div>
        </div>
      </div>
    </header>

    <div class="panel">
      <div class="grid" id="grid"></div>
    </div>
  </div>

  <script>
    // --- Deck (78) ---
    const MAJOR = [
      "0 ë°”ë³´","1 ë§ˆë²•ì‚¬","2 ì—¬ì‚¬ì œ","3 ì—¬í™©ì œ","4 í™©ì œ","5 êµí™©",
      "6 ì—°ì¸","7 ì „ì°¨","8 í˜","9 ì€ë‘”ì","10 ìš´ëª…ì˜ ìˆ˜ë ˆë°”í€´","11 ì •ì˜",
      "12 ë§¤ë‹¬ë¦° ì‚¬ëŒ","13 ì£½ìŒ","14 ì ˆì œ","15 ì•…ë§ˆ","16 íƒ‘","17 ë³„",
      "18 ë‹¬","19 íƒœì–‘","20 ì‹¬íŒ","21 ì„¸ê³„"
    ];
    const RANKS = ["ì—ì´ìŠ¤","2","3","4","5","6","7","8","9","10","í˜ì´ì§€","ë‚˜ì´íŠ¸","í€¸","í‚¹"];
    const SUITS = ["ì™„ë“œ","ì»µ","ì†Œë“œ","íœíƒ€í´"];

    function buildDeck(){
      const deck = [];
      MAJOR.forEach(x => deck.push(x));
      for(const s of SUITS){
        for(const r of RANKS){
          deck.push(`${s} ${r}`);
        }
      }
      return deck;
    }

    // --- Celtic Cross positions (10) ---
    const POS = [
      "1. í˜„ì¬(ìƒí™©ì˜ í•µì‹¬)",
      "2. ì¥ì• /ë„ì „(êµì°¨)",
      "3. ë¬´ì˜ì‹/ê·¼ì›(ë°”íƒ•)",
      "4. ê³¼ê±°(ì§€ë‚˜ê°„ ì˜í–¥)",
      "5. ì˜ì‹/ëª©í‘œ(ìœ„)",
      "6. ê°€ê¹Œìš´ ë¯¸ë˜(ì•)",
      "7. ë‚˜(íƒœë„/ì…ì¥)",
      "8. ì£¼ë³€/í™˜ê²½(íƒ€ì¸/ìƒí™©)",
      "9. í¬ë§/ë‘ë ¤ì›€",
      "10. ê²°ê³¼(ì ì¬ì  ê²°ë§)"
    ];

    // --- RNG helpers (crypto if available) ---
    function rand(){
      if (window.crypto && crypto.getRandomValues){
        const a = new Uint32Array(1);
        crypto.getRandomValues(a);
        return a[0] / 4294967296;
      }
      return Math.random();
    }

    function shuffle(arr){
      for(let i = arr.length - 1; i > 0; i--){
        const j = Math.floor(rand() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    function stamp(){
      const d = new Date();
      const pad = (n)=> String(n).padStart(2,"0");
      return `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())} ${pad(d.getHours())}:${pad(d.getMinutes())}:${pad(d.getSeconds())}`;
    }

    function draw(){
      const deck = shuffle(buildDeck());
      const allowReversed = document.getElementById("rev").checked;

      const spread = [];
      for(let i=0;i<10;i++){
        const name = deck.pop();
        const reversed = allowReversed ? (rand() < 0.5) : false;
        spread.push({
          pos: POS[i],
          name,
          ori: reversed ? "ì—­ë°©í–¥" : "ì •ë°©í–¥"
        });
      }
      return spread;
    }

    function render(spread){
      const grid = document.getElementById("grid");
      grid.innerHTML = "";

      spread.forEach((c)=>{
        const el = document.createElement("div");
        el.className = "card";
        el.innerHTML = `
          <div class="pos">${c.pos}</div>
          <div class="name">${c.name}</div>
          <div class="ori"><span class="dot"></span>${c.ori}</div>
        `;
        grid.appendChild(el);
      });
    }

    document.getElementById("drawBtn").addEventListener("click", ()=>{
      const spread = draw();
      render(spread);

      const q = document.getElementById("q").value.trim();
      document.getElementById("stamp").textContent =
        (q ? `ì§ˆë¬¸: ${q} Â· ` : "") + `ë½‘ì€ ì‹œê°„: ${stamp()}`;
      document.getElementById("seedInfo").textContent = "â€» ì±„ë„/ì‹œê°„ê³¼ ë¬´ê´€í•˜ê²Œ ëœë¤ì´ì•¼ ğŸ˜Š";
    });

    // Initial placeholder
    render(POS.map((p, i)=>({pos:p, name:"(ë¹„ì–´ìˆìŒ)", ori:""})));
    document.querySelectorAll(".ori").forEach(o=>o.style.display="none");
  </script>
</body>
</html>
